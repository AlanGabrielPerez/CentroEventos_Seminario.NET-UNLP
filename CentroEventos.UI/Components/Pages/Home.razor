@page "/"
@using System.ComponentModel.DataAnnotations
@inject NavigationManager Navigation

<EditForm Model="@login" OnValidSubmit="IniciarSesion">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label>Email:</label>
        <InputText class="form-control" @bind-Value="login.Email" />
    </div>

    <div class="mb-3">
        <label>Contraseña:</label>
        <InputText type="password" class="form-control" @bind-Value="login.Contrasena" />
    </div>

    <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
</EditForm>

<p class="mt-3">
    ¿No tenés una cuenta? 
    <a href="/registro">Registrate aquí</a>
</p>

@code {
    private LoginModelo login = new();

    private async Task IniciarSesion()
    {
        // Acá usarías login.Email y login.Contrasena
        Console.WriteLine($"Intento de login: {login.Email} - {login.Contrasena}");

        // redirigir si login exitoso
        Navigation.NavigateTo("/menu"); // ejemplo
    }

    public class LoginModelo
    {
        [Required(ErrorMessage = "El email es obligatorio")]
        public string? Email { get; set; }

        [Required(ErrorMessage = "La contraseña es obligatoria")]
        public string? Contrasena { get; set; }
    }
}